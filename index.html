<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Flood Fill Puzzle</title>
	<link rel="stylesheet" href="./style.css">
	<link rel="manifest" href="./manifest.json">
	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', () => {
				navigator.serviceWorker.register('service-worker.js').then(registration => {
					console.log('ServiceWorker registered:', registration);
				}).catch(error => {
					console.log('ServiceWorker registration failed:', error);
				});
			});
		}
	</script>
</head>

<body>
	<div class="container">
		<h1 id="gameTitle">Flood Fill Puzzle</h1>
		<div class="row">
			<select id="levelSelect" onchange="loadLevel(parseInt(this.value))"></select>
			<select id="langSelect" onchange="setLanguage(this.value)">
				<option value="">切換語言</option>
				<option value="zh-TW">繁體中文</option>
				<option value="zh-CN">简体中文</option>
				<option value="en">English</option>
				<option value="ja">日本語</option>
			</select>
		</div>
		<div class="row">
			<button onclick="toggleMusic()">音樂開關</button>
			<button onclick="toggleDarkMode()">暗色模式</button>
		</div>
		<div class="row">
			<button onclick="resetLevel()">重新開始</button>
			<button onclick="toggleHint()">顯示提示</button>
		</div>
		<audio id="bgm" src="./peaceful-piano-background-music-218762.mp3" loop autoplay></audio>
		<audio id="fillSound" src="./ui-pop-sound-316482.mp3" preload="auto"></audio>
		<div id="preview"></div>
		<div id="palette"></div>
		<div id="gameBoard"></div>
		<div id="message"></div>
		<button id="installBtn"
			style="display: inline-block; position: fixed; bottom: 10px; right: 10px; z-index: 1000;">📱安裝到主畫面</button>
	</div>
	<script src="./game.js"></script>
</body>

</html>